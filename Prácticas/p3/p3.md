#Práctica 3: Balanceador de carga: nginx y HAproxy

Para la realización de esta práctica vamos a necesitar una tercera máquina que hará la tarea de balanceador de carga. Para ello instalamos dicha máquina con la misma 
configuración que las anteriores. A dicha máquina la llamamos "UbuntuBalance"

Una vez hecho esto, vamos a instalar nginx. Esto lo haremos mediante el comando apt-get. Para ello, en primer lugar importamos la clave del repositorio:
cd /tmp/
wget http://nginx.org/keys/nginx_signing.key
apt-key add /tmp/nginx_signing.key
rm -f /tmp/nginx_signing.key

Y a continuación añadimos el repositorio, añadiendo las siguientes direcciones al final del archivo /etc/apt/sources.list

echo "deb http://nginx.org/packages/ubuntu/ lucid nginx" >> /etc/apt/sources.list
echo "deb-src http://nginx.org/packages/ubuntu/ lucid nginx" >> /etc/apt/sources.list

y ya simplemente procedemos como siempre:
apt-get update
apt-get install nginx

En caso de error al iniciar nginx, reiniciamos la máquina y al volver a entrar reiniciamos nginx con el comando restart:
service nginx restart

Y ya tendremos nuestra máquina con nginx instalado y funcionando, tan solo falta configurar para la tarea para la cuál queremos llevarlo a cabo:

[IMAGEN status]

A continuación debemos modificar el archivo /etc/nginx/conf.d/default.conf , donde definiremos las máquinas que formaran el cluster web.
